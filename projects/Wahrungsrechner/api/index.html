<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch</title>
  </head>
  <body>
    <div id="content"></div>
    <script>
      //todo: - Promises, callbacks, async await
      //todo: - Fetch API
      //todo: - JSON
      //todo: - API Tests mit Insomnia

      // 1. Daten werden von der API geholt, mit fetch
      // 2. Daten ligen als JSON vor
      // 3. JSON wird in ein JS-Objekt umgewandelt
      console.log("Fetch");
      fetch("https://jsonplaceholder.typicode.com/posts")
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          console.log(data);
          let content = document.getElementById("content");
          data.forEach((post) => {
            let div = document.createElement("div");
            div.innerHTML = `<h2>${post.title}</h2><p>${post.body}</p>`;
            content.appendChild(div);
          });
        })
        .catch((error) => console.log("Error:", error));

      /*
<Daten>
    <Pokemon>
        <Name>Pikachu</Name>
        <Typ>Elektro</Typ>
        <Level>5</Level>
    </Pokemon>
</Daten>
*/
    </script>
  </body>
</html>
